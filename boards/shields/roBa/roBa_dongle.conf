# --- システム設定 ---
CONFIG_ZMK_SPLIT=y
CONFIG_ZMK_SPLIT_ROLE_CENTRAL=y
CONFIG_ZMK_SPLIT_BLE_CENTRAL_PERIPHERALS=2
CONFIG_BT_MAX_CONN=3
CONFIG_BT_MAX_PAIRED=3

CONFIG_ZMK_USB=y
CONFIG_USB_DEVICE_HID=y
CONFIG_USB_HID_BOOT_PROTOCOL=y
CONFIG_ZMK_SLEEP=n

# --- 入力デバイス設定 ---
CONFIG_ZMK_POINTING=y
CONFIG_ZMK_INPUT_SPLIT=y
CONFIG_ZMK_MOUSE=y
CONFIG_INPUT=y

# --- ディスプレイ設定 ---
CONFIG_ZMK_DISPLAY=y

# [重要] 砂嵐・ノイズ対策
# 描画処理を専用スレッドに分けることで、キー入力との競合による表示乱れを防ぎます
CONFIG_ZMK_DISPLAY_WORK_QUEUE_DEDICATED=y

# 画面の向き（必要に応じて yes/no を変更してください）
CONFIG_ZMK_DISPLAY_INVERT=n

# --- カスタムドライバーとの競合回避 ---
# zmk-dongle-display シールドを使用する場合、
# ZMK標準のウィジェット機能は必ず「無効(n)」にする必要があります。
# 有効(y)のままだと「多重定義 (multiple definition)」エラーでビルドが失敗します。

CONFIG_ZMK_WIDGET_LAYER_STATUS=n
CONFIG_ZMK_WIDGET_BATTERY_STATUS=n
CONFIG_ZMK_WIDGET_OUTPUT_STATUS=n
CONFIG_ZMK_WIDGET_PERIPHERAL_STATUS=n

# ※ CONFIG_ZMK_DONGLE_DISPLAY=y は記述しません。
# ビルド時のシールド指定により自動的に適用されます。
