# --- システム設定 ---
CONFIG_ZMK_SPLIT=y
CONFIG_ZMK_SPLIT_ROLE_CENTRAL=y
CONFIG_ZMK_SPLIT_BLE_CENTRAL_PERIPHERALS=2
CONFIG_BT_MAX_CONN=3
CONFIG_BT_MAX_PAIRED=3

CONFIG_ZMK_USB=y
CONFIG_USB_DEVICE_HID=y
CONFIG_USB_HID_BOOT_PROTOCOL=y
CONFIG_ZMK_SLEEP=n

# --- 入力デバイス設定 ---
CONFIG_ZMK_POINTING=y
CONFIG_ZMK_INPUT_SPLIT=y
CONFIG_ZMK_MOUSE=y
CONFIG_INPUT=y

# --- ディスプレイ設定 ---
CONFIG_ZMK_DISPLAY=y

# [重要] 砂嵐対策1: 描画専用スレッド
CONFIG_ZMK_DISPLAY_WORK_QUEUE_DEDICATED=y
CONFIG_ZMK_DISPLAY_DEDICATED_THREAD_STACK_SIZE=4096

# [重要] 砂嵐対策2: SH1106互換モード
# 画面が砂嵐の場合、実はSSD1306ではなくSH1106である可能性が高いです
CONFIG_SSD1306_SH1106_COMPATIBLE=y

# 画面の向き（砂嵐が直ったら、ここを yes/no 切り替えて向きを調整）
CONFIG_ZMK_DISPLAY_INVERT=n

# --- 標準ウィジェット無効化 (エラー回避) ---
CONFIG_ZMK_WIDGET_LAYER_STATUS=n
CONFIG_ZMK_WIDGET_BATTERY_STATUS=n
CONFIG_ZMK_WIDGET_OUTPUT_STATUS=n
CONFIG_ZMK_WIDGET_PERIPHERAL_STATUS=n
